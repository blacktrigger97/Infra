version: 2.18.1
services:
  baseimage:
    build:
      context: baseimage 
      dockerfile: /home/vishesh/docker/baseimage/Dockerfile
      args:
        - JAVA_VER=${JAVA_VER}
        - OS_VER=${OS_VER}
        - PY_VER=${PY_VER}
    image: baseimage
  jupyter:
    build: 
      context: jupyter
      dockerfile: /home/vishesh/docker/jupyter/Dockerfile
    user: root
    image: jupyter
    container_name: jupyter
    hostname: jupyter
    ports:
      - 8091:8091
    volumes:
      - type: bind
        source: /home/vishesh/notebooks
        target: /notebooks
    depends_on:
      - baseimage
volumes:
  docker:
